!function(){"use strict";var e={6809:function(e,t,r){var n=r(675),o=r(467),i=r(9408),s=r(3029),u=r(2901),a=function(){function e(){(0,s.A)(this,e),this.queue=[],this.isProcessing=!1,this.taskIdCounter=0}return(0,u.A)(e,[{key:"addTask",value:function(e){var t="task-".concat(this.taskIdCounter++);return this.queue.push({id:t,task:e}),this.processQueue(),t}},{key:"removeTask",value:function(e){var t=this.queue.length;return this.queue=this.queue.filter((function(t){return t.id!==e})),t!==this.queue.length}},{key:"processQueue",value:function(){var e=(0,o.A)((0,n.A)().mark((function e(){var t,r;return(0,n.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isProcessing){e.next=2;break}return e.abrupt("return");case 2:this.isProcessing=!0;case 3:if(!(this.queue.length>0)){e.next=15;break}return t=this.queue.shift(),r=t.task,e.prev=5,e.next=8,r();case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(5),console.error("Error processing task:",e.t0);case 13:e.next=3;break;case 15:this.isProcessing=!1;case 16:case"end":return e.stop()}}),e,this,[[5,10]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),c=function(e){return e.CAPSULE="capsule",e.SPHERE="sphere",e.BOX="box",e.CONVEX="convex",e.TRIMESH="trimesh",e}({}),f=new a;function p(){return(p=(0,o.A)((0,n.A)().mark((function e(t){var r,o,s,u,a,f,p,l,h,d,m,g,x,y,w,v,k,b,B,A,M,E,S,O,P,V,z,C,q,F,R,j,I,L,T,X,H,G,Q,U,Y,Z,N,D,J,K,W,$,_,ee,te,re,ne,oe,ie,se,ue,ae,ce,fe,pe,le,he;return(0,n.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.type,o=t.params,r===c.CAPSULE&&(u=(s=o).geometry,a=s.scale,f=s.position,p=s.rotation,l=new i.Box3,h=new i.Sphere,(d=(new i.BufferGeometryLoader).parse(u)).computeBoundingBox(),l.copy(d.boundingBox),d.computeBoundingSphere(),h.copy(d.boundingSphere),m=new i.Vector3(a[0],a[1],a[2]),g=new i.Vector3,l.getSize(g),g.multiply(m),x=h.radius*Math.max(m.x,m.y,m.z),y=Math.abs(g.y-2*x),w=new i.Vector3,l.getCenter(w).multiply(m),v=(new i.Matrix4).makeRotationFromEuler(new i.Euler(p[0],p[1],p[2])),w.applyMatrix4(v),w.add(new i.Vector3(f[0],f[1],f[2])),k={radius:x,height:y,position:[w.x,w.y,w.z],rotation:[p[0],p[1],p[2]]},self.postMessage(k)),r===c.SPHERE){if(B=(b=o).geometry,A=b.scale,M=b.position,E=b.rotation,S=(new i.BufferGeometryLoader).parse(B),O=new i.Sphere,(P=S.attributes.position)instanceof i.InterleavedBufferAttribute){for(V=[],z=0;z<P.count;z++)V.push(P.getX(z),P.getY(z),P.getZ(z));C=new i.BufferAttribute(new Float32Array(V),3),S.setAttribute("position",C)}S.computeBoundingSphere(),O.copy(S.boundingSphere),q=new i.Vector3(A[0],A[1],A[2]),F=O.radius*Math.max(q.x,q.y,q.z),(R=O.center.clone()).multiply(q),j=(new i.Matrix4).makeRotationFromEuler(new i.Euler(E[0],E[1],E[2])),R.applyMatrix4(j),R.add(new i.Vector3(M[0],M[1],M[2])),I={radius:F,position:[R.x,R.y,R.z]},self.postMessage(I)}if(r===c.BOX){if(T=(L=o).geometry,X=L.scale,H=L.position,G=L.rotation,Q=(new i.BufferGeometryLoader).parse(T),U=new i.Box3,(Y=Q.attributes.position)instanceof i.InterleavedBufferAttribute){for(Z=[],N=0;N<Y.count;N++)Z.push(Y.getX(N),Y.getY(N),Y.getZ(N));D=new i.BufferAttribute(new Float32Array(Z),3),U=(new i.Box3).setFromBufferAttribute(D)}else U=(new i.Box3).setFromBufferAttribute(Y);J=new i.Vector3(X[0],X[1],X[2]),K=new i.Vector3,U.getSize(K).multiply(J),W=new i.Vector3,U.getCenter(W).multiply(J),$=(new i.Matrix4).makeRotationFromEuler(new i.Euler(G[0],G[1],G[2])),W.applyMatrix4($),W.add(new i.Vector3(H[0],H[1],H[2])),_={size:[K.x,K.y,K.z],position:[W.x,W.y,W.z],rotation:[G[0],G[1],G[2]]},self.postMessage(_)}if(r===c.TRIMESH){for(te=(ee=o).positions,re=ee.index,ne=ee.position,oe=ee.rotation,ie=ee.scale,se=[],ue=[],ae=(new i.Matrix4).makeScale(ie[0],ie[1],ie[2]),ce=0;ce<te.length;ce+=3)(fe=new i.Vector3(te[ce],te[ce+1],te[ce+2])).applyMatrix4(ae),se.push(fe.x,fe.y,fe.z);if(re)for(pe=0;pe<re.length;pe+=3)ue.push(re[pe],re[pe+1],re[pe+2]);else for(le=0;le<se.length/3;le+=3)ue.push(le,le+1,le+2);he={vertices:se,indices:ue,position:[ne[0],ne[1],ne[2]],rotation:[oe[0],oe[1],oe[2]]},self.postMessage(he)}case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}self.onmessage=function(e){f.addTask((function(){return function(e){return p.apply(this,arguments)}(e.data)}))}}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var i=t[n]={exports:{}};return e[n](i,i.exports,r),i.exports}r.m=e,r.x=function(){var e=r.O(void 0,[456,408],(function(){return r(6809)}));return e=r.O(e)},function(){var e=[];r.O=function(t,n,o,i){if(!n){var s=1/0;for(f=0;f<e.length;f++){n=e[f][0],o=e[f][1],i=e[f][2];for(var u=!0,a=0;a<n.length;a++)(!1&i||s>=i)&&Object.keys(r.O).every((function(e){return r.O[e](n[a])}))?n.splice(a--,1):(u=!1,i<s&&(s=i));if(u){e.splice(f--,1);var c=o();void 0!==c&&(t=c)}}return t}i=i||0;for(var f=e.length;f>0&&e[f-1][2]>i;f--)e[f]=e[f-1];e[f]=[n,o,i]}}(),r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.f={},r.e=function(e){return Promise.all(Object.keys(r.f).reduce((function(t,n){return r.f[n](e,t),t}),[]))},r.u=function(e){return"static/js/"+e+"."+{408:"719ce7d4",456:"2f6077d1"}[e]+".chunk.js"},r.miniCssF=function(e){},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/",function(){var e={809:1};r.f.i=function(t,n){e[t]||importScripts(r.p+r.u(t))};var t=self.webpackChunkdotcomma=self.webpackChunkdotcomma||[],n=t.push.bind(t);t.push=function(t){var o=t[0],i=t[1],s=t[2];for(var u in i)r.o(i,u)&&(r.m[u]=i[u]);for(s&&s(r);o.length;)e[o.pop()]=1;n(t)}}(),function(){var e=r.x;r.x=function(){return Promise.all([r.e(456),r.e(408)]).then(e)}}();r.x()}();
//# sourceMappingURL=809.32e634dc.chunk.js.map